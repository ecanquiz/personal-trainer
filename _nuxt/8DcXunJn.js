import _ from"./DVo6m8Xd.js";import R from"./DedfAU2z.js";import U from"./BhqDKDoJ.js";import S from"./DCJBeawe.js";import{f as g,r as B,o as b,h as q,w as t,b as o,d as h,t as k,i as N,j as w,c as P,k as c,a as C}from"./B1g9UxbC.js";import{r as E,g as F}from"./Dd1sIWi-.js";import{H as D}from"./Btox8u1S.js";import"./DgmU6zrH.js";import"./Czvg7lg4.js";import"./qsMMcMsd.js";import"./DlAUqK2U.js";import"./ClajOHHl.js";import"./CCiO4yek.js";import"./aPxrJPp6.js";import"./DS8WuFRJ.js";import"./BRdF0l0C.js";import"./blSOxsGD.js";import"./BA0kNeOr.js";import"./Cu-1t_U5.js";import"./DgCAb0nF.js";const T=g({__name:"FormRegister",props:{error:[Object,String],sending:Boolean},emits:["submit"],setup(r,{emit:n}){const i=n,e=B({name:"",email:"",password:"",passwordConfirm:""}),p=a=>/\S+@\S+\.\S+/.test(a),f=a=>a.length>5,u=(a,s)=>a===s,x=a=>{const s=[];return a.name||s.push({path:"name",message:"Required"}),a.email||s.push({path:"email",message:"Required"}),a.password||s.push({path:"password",message:"Required"}),a.passwordConfirm||s.push({path:"passwordConfirm",message:"Required"}),p(a.email)||s.push({path:"email",message:"Requires a valid email"}),f(a.password)||s.push({path:"password",message:"The password must be at least 6 characters"}),u(a.passwordConfirm,a.password)||s.push({path:"passwordConfirm",message:"The password confirm must be equal than password"}),s},v=async a=>{i("submit",{name:e.name,email:e.email,password:e.password,passwordConfirm:e.passwordConfirm})};return(a,s)=>{const l=R,d=U,V=_,y=S;return b(),q(y,{validate:x,state:e,class:"space-y-4",onSubmit:N(v,["prevent"])},{default:t(()=>[o(d,{label:"Name",name:"name"},{default:t(()=>[o(l,{type:"text",label:"Nombre completo",name:"name",modelValue:e.name,"onUpdate:modelValue":s[0]||(s[0]=m=>e.name=m),placeholder:"Full name",class:"mb-2","data-testid":"name-input"},null,8,["modelValue"])]),_:1}),o(d,{label:"Email",name:"email"},{default:t(()=>[o(l,{type:"email",label:"Correo",name:"email",modelValue:e.email,"onUpdate:modelValue":s[1]||(s[1]=m=>e.email=m),placeholder:"email@domain.ext",class:"mb-2","data-testid":"email-input"},null,8,["modelValue"])]),_:1}),o(d,{label:"Password",name:"password"},{default:t(()=>[o(l,{type:"password",label:"Clave",name:"password",modelValue:e.password,"onUpdate:modelValue":s[2]||(s[2]=m=>e.password=m),placeholder:"Password",class:"mb-2","data-testid":"password-input"},null,8,["modelValue"])]),_:1}),o(d,{label:"Password Confirm",name:"passwordConfirm"},{default:t(()=>[o(l,{type:"password",label:"Confirmar clave",name:"passwordConfirm",modelValue:e.passwordConfirm,"onUpdate:modelValue":s[3]||(s[3]=m=>e.passwordConfirm=m),placeholder:"Confirm password",class:"mb-4","data-testid":"confirm-password-input"},null,8,["modelValue"])]),_:1}),o(V,{color:"lime",type:"submit",isDisabled:r.sending,"data-testid":"submit-btn"},{default:t(()=>[h(k(r.sending?"Registrándose...":"Registrarse"),1)]),_:1},8,["isDisabled"])]),_:1},8,["state"])}}});function j(){const r=w(""),n=w(!1);return{register:async e=>{e.name,e.email,e.password,e.passwordConfirm,r.value="",n.value=!0,E().catch(p=>r.value=F()).finally(()=>n.value=!1)},sending:n,error:r}}const H={class:"p-5 m-50 w-50"},I=C("h2",{class:"text-2xl text-center mx-auto absolute bottom-0"},"Regístrerse",-1),G={class:"mt-2 text-center text-gray-500"},me=g({__name:"register",setup(r){const{register:n,sending:i,error:e}=j();return(p,f)=>{const u=_;return b(),P("div",H,[o(D,null,{default:t(()=>[I]),_:1}),o(T,{class:"p-5 bg-base-200 rounded shadow",onSubmit:c(n),sending:c(i),error:c(e)},null,8,["onSubmit","sending","error"]),C("p",G,[o(u,{to:"/login","data-testid":"login-link",color:"lime"},{default:t(()=>[h(" ¿Ya registrado? ")]),_:1})])])}}});export{me as default};
